FirebaseMessaging.onMessageOpenedApp.listen((message) {
  final link = message.data['deep_link'];
  if (link != null) _handleDynamicLink(link);
});


âœ… 4. Dynamic Link Routing from Notifications
File: in your Flutter FCM handler.txt

ğŸ“ Where:
In main.dart or firebase_messaging_handler.dart

âœ… Insert inside main app startup:

dart
Copy
Edit
FirebaseMessaging.onMessageOpenedApp.listen((message) {
  final link = message.data['deep_link'];
  if (link != null) _handleDynamicLink(link);
});
âœ… Make sure this function exists:

dart
Copy
Edit
void _handleDynamicLink(String link) {
  final uri = Uri.parse(link);
  if (uri.queryParameters['file'] != null) {
    Navigator.pushNamed(context, '/viewer', arguments: uri.queryParameters['file']);
  } else if (uri.queryParameters['temple'] != null) {
    Navigator.pushNamed(context, '/temple', arguments: uri.queryParameters['temple']);
  }
}